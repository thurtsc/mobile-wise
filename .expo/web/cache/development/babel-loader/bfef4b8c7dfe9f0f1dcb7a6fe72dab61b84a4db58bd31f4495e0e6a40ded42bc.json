{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\licia\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\Financas\\\\node_modules\\\\react-native-calendars\\\\src\\\\expandableCalendar\\\\Context\\\\todayButton.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport XDate from 'xdate';\nimport React, { forwardRef, useImperativeHandle, useEffect, useRef, useState, useContext, useCallback } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { getDefaultLocale } from '../../services';\nimport { toMarkingFormat } from '../../interface';\nimport { isToday, isPastDate } from '../../dateutils';\nimport { UpdateSources, todayString } from '../commons';\nimport styleConstructor from '../style';\nimport Context from './index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TOP_POSITION = 65;\nconst DOWN_ICON = require('../../img/down.png');\nconst UP_ICON = require('../../img/up.png');\nconst TodayButton = (props, ref) => {\n  useImperativeHandle(ref, () => ({\n    disable: shouldDisable => {\n      disable(shouldDisable);\n    }\n  }));\n  const {\n    margin = 0,\n    disabledOpacity = 0.3,\n    theme,\n    style: propsStyle\n  } = props;\n  const {\n    date,\n    setDate\n  } = useContext(Context);\n  const [disabled, setDisabled] = useState(false);\n  const style = useRef(styleConstructor(theme));\n  const state = isToday(date) ? 0 : isPastDate(date) ? -1 : 1;\n  const shouldShow = state !== 0;\n  useEffect(() => {\n    if (shouldShow) {\n      setButtonIcon(getButtonIcon());\n    }\n    animatePosition();\n  }, [state]);\n  useEffect(() => {\n    if (!shouldShow) {\n      return;\n    }\n    animateOpacity();\n  }, [disabled]);\n  const disable = shouldDisable => {\n    if (shouldDisable !== disabled) {\n      setDisabled(shouldDisable);\n    }\n  };\n  const getFormattedLabel = () => {\n    const todayStr = getDefaultLocale().today || todayString;\n    const today = todayStr.charAt(0).toUpperCase() + todayStr.slice(1);\n    return today;\n  };\n  const today = useRef(getFormattedLabel());\n  const getButtonIcon = () => {\n    if (shouldShow) {\n      return state === 1 ? UP_ICON : DOWN_ICON;\n    }\n  };\n  const [buttonIcon, setButtonIcon] = useState(getButtonIcon());\n  const buttonY = useRef(new Animated.Value(margin ? -margin : -TOP_POSITION));\n  const opacity = useRef(new Animated.Value(1));\n  const getPositionAnimation = () => {\n    const toValue = state === 0 ? TOP_POSITION : -margin || -TOP_POSITION;\n    return {\n      toValue,\n      tension: 30,\n      friction: 8,\n      useNativeDriver: true\n    };\n  };\n  const getOpacityAnimation = () => {\n    return {\n      toValue: disabled ? disabledOpacity : 1,\n      duration: 500,\n      useNativeDriver: true\n    };\n  };\n  const animatePosition = () => {\n    const animationData = getPositionAnimation();\n    Animated.spring(buttonY.current, _objectSpread({}, animationData)).start();\n  };\n  const animateOpacity = () => {\n    const animationData = getOpacityAnimation();\n    Animated.timing(opacity.current, _objectSpread({}, animationData)).start();\n  };\n  const getTodayDate = () => {\n    return toMarkingFormat(new XDate());\n  };\n  const onPress = useCallback(() => {\n    setDate(getTodayDate(), UpdateSources.TODAY_PRESS);\n  }, [setDate]);\n  return _jsxDEV(Animated.View, {\n    style: [style.current.todayButtonContainer, {\n      transform: [{\n        translateY: buttonY.current\n      }]\n    }],\n    children: _jsxDEV(TouchableOpacity, {\n      style: [style.current.todayButton, propsStyle],\n      onPress: onPress,\n      disabled: disabled,\n      children: [_jsxDEV(Animated.Image, {\n        style: [style.current.todayButtonImage, {\n          opacity: opacity.current\n        }],\n        source: buttonIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), _jsxDEV(Animated.Text, {\n        allowFontScaling: false,\n        style: [style.current.todayButtonText, {\n          opacity: opacity.current\n        }],\n        children: today.current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 13\n  }, this);\n};\nexport default forwardRef(TodayButton);","map":{"version":3,"names":["XDate","React","forwardRef","useImperativeHandle","useEffect","useRef","useState","useContext","useCallback","Animated","TouchableOpacity","getDefaultLocale","toMarkingFormat","isToday","isPastDate","UpdateSources","todayString","styleConstructor","Context","jsxDEV","_jsxDEV","TOP_POSITION","DOWN_ICON","require","UP_ICON","TodayButton","props","ref","disable","shouldDisable","margin","disabledOpacity","theme","style","propsStyle","date","setDate","disabled","setDisabled","state","shouldShow","setButtonIcon","getButtonIcon","animatePosition","animateOpacity","getFormattedLabel","todayStr","today","charAt","toUpperCase","slice","buttonIcon","buttonY","Value","opacity","getPositionAnimation","toValue","tension","friction","useNativeDriver","getOpacityAnimation","duration","animationData","spring","current","_objectSpread","start","timing","getTodayDate","onPress","TODAY_PRESS","View","todayButtonContainer","transform","translateY","children","todayButton","Image","todayButtonImage","source","fileName","_jsxFileName","lineNumber","columnNumber","Text","allowFontScaling","todayButtonText"],"sources":["C:/Users/licia/OneDrive/Ãrea de Trabalho/Financas/node_modules/react-native-calendars/src/expandableCalendar/Context/todayButton.js"],"sourcesContent":["import XDate from 'xdate';\nimport React, { forwardRef, useImperativeHandle, useEffect, useRef, useState, useContext, useCallback } from 'react';\nimport { Animated, TouchableOpacity } from 'react-native';\nimport { getDefaultLocale } from '../../services';\nimport { toMarkingFormat } from '../../interface';\nimport { isToday, isPastDate } from '../../dateutils';\nimport { UpdateSources, todayString } from '../commons';\nimport styleConstructor from '../style';\nimport Context from './index';\nconst TOP_POSITION = 65;\nconst DOWN_ICON = require('../../img/down.png');\nconst UP_ICON = require('../../img/up.png');\nconst TodayButton = (props, ref) => {\n    useImperativeHandle(ref, () => ({\n        disable: (shouldDisable) => {\n            disable(shouldDisable);\n        }\n    }));\n    const { margin = 0, disabledOpacity = 0.3, theme, style: propsStyle, } = props;\n    const { date, setDate } = useContext(Context);\n    const [disabled, setDisabled] = useState(false);\n    const style = useRef(styleConstructor(theme));\n    const state = isToday(date) ? 0 : isPastDate(date) ? -1 : 1;\n    const shouldShow = state !== 0;\n    /** Effects */\n    useEffect(() => {\n        if (shouldShow) {\n            setButtonIcon(getButtonIcon());\n        }\n        animatePosition();\n    }, [state]);\n    useEffect(() => {\n        if (!shouldShow) {\n            return;\n        }\n        animateOpacity();\n    }, [disabled]);\n    const disable = (shouldDisable) => {\n        if (shouldDisable !== disabled) {\n            setDisabled(shouldDisable);\n        }\n    };\n    /** Label */\n    const getFormattedLabel = () => {\n        const todayStr = getDefaultLocale().today || todayString;\n        const today = todayStr.charAt(0).toUpperCase() + todayStr.slice(1);\n        return today;\n    };\n    const today = useRef(getFormattedLabel());\n    /** Icon */\n    const getButtonIcon = () => {\n        if (shouldShow) {\n            return state === 1 ? UP_ICON : DOWN_ICON;\n        }\n    };\n    const [buttonIcon, setButtonIcon] = useState(getButtonIcon());\n    /** Animations */\n    const buttonY = useRef(new Animated.Value(margin ? -margin : -TOP_POSITION));\n    const opacity = useRef(new Animated.Value(1));\n    const getPositionAnimation = () => {\n        const toValue = state === 0 ? TOP_POSITION : -margin || -TOP_POSITION;\n        return {\n            toValue,\n            tension: 30,\n            friction: 8,\n            useNativeDriver: true\n        };\n    };\n    const getOpacityAnimation = () => {\n        return {\n            toValue: disabled ? disabledOpacity : 1,\n            duration: 500,\n            useNativeDriver: true\n        };\n    };\n    const animatePosition = () => {\n        const animationData = getPositionAnimation();\n        Animated.spring(buttonY.current, {\n            ...animationData\n        }).start();\n    };\n    const animateOpacity = () => {\n        const animationData = getOpacityAnimation();\n        Animated.timing(opacity.current, {\n            ...animationData\n        }).start();\n    };\n    const getTodayDate = () => {\n        return toMarkingFormat(new XDate());\n    };\n    const onPress = useCallback(() => {\n        setDate(getTodayDate(), UpdateSources.TODAY_PRESS);\n    }, [setDate]);\n    return (<Animated.View style={[style.current.todayButtonContainer, { transform: [{ translateY: buttonY.current }] }]}>\n      <TouchableOpacity style={[style.current.todayButton, propsStyle]} onPress={onPress} disabled={disabled}>\n        <Animated.Image style={[style.current.todayButtonImage, { opacity: opacity.current }]} source={buttonIcon}/>\n        <Animated.Text allowFontScaling={false} style={[style.current.todayButtonText, { opacity: opacity.current }]}>\n          {today.current}\n        </Animated.Text>\n      </TouchableOpacity>\n    </Animated.View>);\n};\nexport default forwardRef(TodayButton);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}